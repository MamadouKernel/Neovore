@model Neovore.Web.Domain.Entities.AdminUser
@{
    ViewData["Title"] = "Modifier l'utilisateur";
}
<div class="page-header">
  <h1 class="page-title">Modifier l'utilisateur</h1>
  <p class="page-subtitle">@Model.Username</p>
</div>

<div class="admin-card">
  <div class="card-body p-4">
    <form method="post">
      @Html.AntiForgeryToken()
      <input type="hidden" asp-for="Id" />

      @if (!ViewData.ModelState.IsValid)
      {
        <div class="alert alert-danger">
          @Html.ValidationSummary(false)
        </div>
      }

      <div class="row g-4">
        <div class="col-md-6">
          <label class="form-label fw-bold">Nom d'utilisateur *</label>
          <input asp-for="Username" class="form-control" required />
          <span asp-validation-for="Username" class="text-danger small"></span>
        </div>

        <div class="col-md-6">
          <label class="form-label fw-bold">Rôle *</label>
          <select asp-for="Role" class="form-select" required>
            <option value="Admin">Administrateur</option>
            <option value="Editeur">Gestionnaire</option>
          </select>
          <small class="text-muted">Les administrateurs ont tous les droits. Les gestionnaires peuvent gérer le contenu.</small>
        </div>

        <div class="col-md-6">
          <label class="form-label fw-bold">Nouveau mot de passe (laisser vide pour conserver l'actuel)</label>
          <input type="password" name="newPassword" class="form-control" minlength="6" />
          <small class="text-muted">Laissez vide si vous ne souhaitez pas modifier le mot de passe. Minimum 6 caractères si modifié.</small>
        </div>

        <div class="col-md-6">
          <label class="form-label fw-bold">Statut</label>
          <select asp-for="IsActive" class="form-select">
            <option value="true">Actif</option>
            <option value="false">Inactif</option>
          </select>
        </div>
      </div>

      <div class="alert alert-info mt-4">
        <i class="bi bi-info-circle me-2"></i>
        <strong>Note :</strong> Si vous modifiez votre propre compte, vous devrez vous reconnecter après la modification du mot de passe.
      </div>

      <div class="mt-4 d-flex gap-2">
        <button class="btn btn-primary" type="submit">
          <i class="bi bi-check-circle me-2"></i>Enregistrer
        </button>
        <a class="btn btn-outline-secondary" href="/Admin/AdminUsers">
          <i class="bi bi-x-circle me-2"></i>Annuler
        </a>
      </div>
    </form>
  </div>
</div>

@section Scripts {
  <partial name="_ValidationScriptsPartial" />
}

